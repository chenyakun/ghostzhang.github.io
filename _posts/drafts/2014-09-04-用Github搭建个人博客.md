---
layout: article
title: 用Github搭建个人博客
date: 2014-09-04 14:30:39
tags: jekyll github
---

# {{ page.title }}

{% include author.html %}

上个月26号下午开始，原先博客的服务器宕机了，虽然一直觉得过段时间就会好的，不过一连3天都没恢复，开始有点忍不住了，内容还是好多的，没了多可惜啊，在公司登录不了管理后台，想从数据库把内容搞出来也做不到，如果是文件就好了，哭~~。虽然一直以来对[Git]("http://en.wikipedia.org/wiki/Git_(software)")[^1]还停留在使用图形界面软件的程度，但还是想试试用[GitHub](http://github.com)[^2]怎么折腾出一个博客出来。

[^1]:[Git]("http://en.wikipedia.org/wiki/Git_(software)") Linus Torvalds写的分布式版本管理系统，用与管理Linux的开发。
[^2]:[GitHub](http://github.com) 一个提供Git托管服务的网站。

搜索了关于github建站的文章后，看了前人各种安装node、ruby等天书般的命令就头大，最后还是选择了相对简单的[hexo](http://hexo.io/)[^3]，也在win7上成功搭建，教程见最下方。不过hexo的模板修改起来不太容易，看不懂，也就意味着只能用别人做好的theme，对于想要自己定制theme的同学来说，并不太适合。

[^3]:[hexo](http://hexo.io/) 一个快速，简单和功能强大的博客，基于node.js。

这时候，[阿成][]同学又出现了，提到另一个方法，就是利用github已支持的[jekyll](http://jekyllrb.com/docs/home/)，按要求建目录、文件，然后直接传到github对应的项目中就可以了，github会自动解析模板并显示，此方法优点就是只需要安装git就可以了，模板的自由度高，但缺点也很明显，就是本地无法预览，不过这问题不大。

下面就总结下我使用的方法，希望能帮到有用github搭建个人博客的同学。

##站点

先看看阮一峰的《[搭建一个免费的，无限流量的Blog----github Pages和Jekyll入门](http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html)》，看完对整个站点应该就有了一个大概的认识。如果你跟着他一步步做下来，无意外的话就能看到一个最简单的博客了。

**目录结构**


站点已经建成，好像也没写下去的必要了。可是说好的美肤呢？不急，先来看看相关的语言。

###相关语言

在开始做皮肤之前，我们先来搞清楚模板还能做什么，像公共的头部、底部、导航什么的，这些在上面并没有提到，可是做为一个模板引擎，怎么都得支持吧。

- [YAML](http://en.wikipedia.org/wiki/Yaml) 一个几乎所有编程语言都支持的易读的数据序列化标准。
- [jekyll](http://jekyllrb.com/docs/home/) 
- [Liquid](http://docs.shopify.com/themes/liquid-documentation/basics) Ruby的一个模板引擎库。

在[jekyll templates](http://jekyllrb.com/docs/templates/)中可以看到，是支持`include`的，只需要在根目录下创建一个名为`_includes`的目录，把页面片放到这个目录中，然后用下面的语法加载对应的页面片文件即可：


{% highlight text linenos %}
/ username.github.com
    / _layouts #框架文件
        |-- default.html
    / _posts #要发布的文章放这里
        |-- 2014-09-02-hello-world.html
    / _includes #如果需要用到页面片可以建这个目录
        |-- footer.html
    / _data #自定义的数据内容
        |-- links.yml
    |-- index.html
    |-- _config.yml #配置文件
{% endhighlight %}

###相关插件

####代码

代码展示可以选择类似[cssdeck.com](http://cssdeck.com/)的服务，同类的还有[jsfiddle](http://jsfiddle.net/)、[RunJS](http://runjs.cn/)等。以csdeck为例，创建一个demo后，选择Share菜单上中间的"Embed on your webpage (blogs, articles, etc.) "，会得到类似下面的一段代码：

{% highlight html linenos %}
    <pre class="_cssdeck_embed" data-pane="output" data-user="ghostzhang" data-href="zaalj4cz" data-version="0"></pre>
    <script async src="http://cssdeck.com/assets/js/embed.js"></script>
{% endhighlight %}

我们可以把这段代码放到文章中，用来显示代码的效果。

为了引用更方便，这时我们就可以利用上面提到的*include*功能了，在*_include*目录下创建一个名为*code.html*的文件，内容如下：

{% highlight html linenos %}
    <pre class="_cssdeck_embed" data-pane="output" data-user="换成你的用户名" data-href="{{ include.id }}" data-version="{{ include.v }}"></pre>
    <script async src="http://cssdeck.com/assets/js/embed.js"></script>
{% endhighlight %}

注意里面的`{{ include.id }}`、`{{ include.v }}`，用于接收传进来的参数值，然后当我们要引用cssdeck上的代码时，只需要用下面的方式即可：


再利用Sublime Text的Snippet，自定义一个代码片段，就可以更快的输入了，可以这样做：

1. Tools > New Snippet...
2. 内容如下：
3. 保存到Packages[^4]目录中的任意位置，建议为`\Packages\User\Snippet\`。

[^4]:可以在`Preference > Browse Packages...`

####评论

[多说](http://duoshuo.com/)

##编写文章

[Markdown](http://daringfireball.net/projects/markdown/)
[Textile](http://redcloth.org/textile)

###编辑器（Sublime Text）

####安装插件

[Package Control](https://sublime.wbond.net/installation#st3)
[Markdown Editing](https://github.com/SublimeText-Markdown/MarkdownEditing)
[SublimeTmpl](https://github.com/kairyou/SublimeTmpl)
Markdown Preview

####设置

Sublime Text

**修改保存文件时的默认后缀形式**

1. 新建一个空白文件，设置 Syntax - Markdown
2. 然后 Preference > Setting - more > Syntax Specific - User 会打开 Markdown.sublime-settings，然后将下面的内容保存 （文件名应该是：Packages/User/Markdown.sublime-settings）

{% highlight json linenos %}
    {
      "extensions": [ "md" ] 
    }
{% endhighlight %}

Markdown Editing

**SublimeTmpl**


**snippet**


##其它Markdown 免费编辑器

Windows 平台

- [MarkdownPad](http://markdownpad.com/)
- [MarkPad](http://code52.org/DownmarkerWPF/)

Linux 平台

- [ReText](http://sourceforge.net/p/retext/home/ReText/)

Mac 平台

- [Mou](http://mouapp.com)

在线编辑器

- [Markable.in](http://markable.in)
- [Dillinger.io](http://dillinger.io)

浏览器插件

- [MaDe](https://chrome.google.com/webstore/detail/oknndfeeopgpibecfjljjfanledpbkog) (Chrome)


##参考文章
- [Git教程][10]
- [GitHub教程][11]
- [github pages][9]

- [hexo你的博客][8]
- [如何搭建一个独立博客——简明Github Pages与Hexo教程][6]
- [Hexo在github上构建免费的Web应用][7]

- [Sublime Text 新建文件的模版插件: SublimeTmpl][1]
- [修改Sublime 新建和保存文件时的默认格式][2]
- [在 Sublime Text 中使用 Snippet][3]
- [sublimetext-markdown-preview][4]
- [Sublime Text Snippet scopes][5]

[1]:http://www.fantxi.com/blog/archives/sublime-template-engine-sublimetmpl/
[2]:https://github.com/Pazzilivo/Notes/blob/master/IDE/Sublime%20Text%202/%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6%E9%BB%98%E8%AE%A4%E4%BF%9D%E5%AD%98%E5%90%8E%E7%BC%80.md
[3]:http://www.cnblogs.com/ju2ender/archive/2012/07/16/how-to-use-snippet-in-sublime-text.html
[4]:https://github.com/revolunet/sublimetext-markdown-preview
[5]:https://gist.github.com/iambibhas/4705378
[6]:http://www.jianshu.com/p/05289a4bc8b2
[7]:http://blog.fens.me/hexo-blog-github/
[8]:http://ibruce.info/2013/11/22/hexo-your-blog/
[9]:https://pages.github.com/
[10]:http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000
[11]:http://www.worldhello.net/gotgithub/

{% include links.md %}